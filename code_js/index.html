<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JavaScript格式化/压缩 - 29DNS</title>
    <meta name="keywords" content="JS格式化,JS压缩,JavaScript美化,代码优化工具,JS代码整理,在线JS格式化,JS代码压缩,JS代码高亮,JS代码校验,前端开发工具,JS格式化工具,代码缩小化">
  <meta name="description" content="免费在线JS代码格式化与压缩工具，一键美化JavaScript代码结构并压缩优化，提升代码可读性和加载速度。支持语法高亮、错误检测，是前端开发者调试和优化代码的必备利器！">
	<meta name="author" content="冰豆">
    <link href="../css/style.css" type="text/css" rel="stylesheet">
<link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/codemirror/5.65.0/codemirror.css">
<link rel="stylesheet" href="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/codemirror/5.65.0/theme/mdn-like.css">
<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js"></script>
<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/codemirror/5.65.0/codemirror.js"></script>
<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/js-beautify/1.14.0/beautifier.min.js"></script>
<script src="https://unpkg.com/terser@5.10.0/dist/bundle.min.js"></script>
<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/codemirror/5.65.0/mode/javascript/javascript.js"></script>
</head>
<body>
<header id="header"></header>
<section id="box_shadow" class="width_box" style="margin-top:80px">
    <p><b>JavaScript 格式化/混淆/压缩</b></p>
    <div class="form-group">
        <label class="form-label">代码：</label>
        <div class="form-control-wrap">
            <textarea id="code" class="textarea textarea-bordered "></textarea>
        </div>
    </div>
    <p>
	<button class="color blue button" onClick="format()">格式化</button>
	<button class="color blue button" onClick="compress()">压缩</button>
	<button class="color blue button" onClick="mix_up()">混淆</button>
	<button class="color blue button" onClick="reset()">清空</button>
    </p>
</section>
<footer id="footer"></footer>
<script>
var defaultvalue = `new Vue({
    el: '#app',
    data: {
        set: {
            input: window.location.href,
            output: '',
        },
    },
    created() {
    },
    mounted() {
    },
    methods: {
    },
})
`;
$("#code").html(defaultvalue);
var initcodemirror = CodeMirror.fromTextArea(document.getElementById("code"), {  // 标识到textarea
    value: defaultvalue,  // 文本域默认显示的文本
    mode: {name: "javascript", json: true},  // 模式
    theme: "mdn-like",  // CSS样式选择
    indentUnit: 2,  // 缩进单位，默认2
    smartIndent: true,  // 是否智能缩进
    tabSize: 4,  // Tab缩进，默认4
    readOnly: false,  // 是否只读，默认false
    showCursorWhenSelecting: true,
    lineNumbers: true,  // 是否显示行号
    lineWrapping: true,
    matchBrackets: true,
});
function format() {
    initcodemirror.setValue(beautifier.js(initcodemirror.getValue()));
}
function compress() {
    Terser.minify(initcodemirror.getValue(), {
        compress: true,
        mangle: false,
    }).then(res => {
        initcodemirror.setValue(res.code);
    })
}
function mix_up(){
    Terser.minify(initcodemirror.getValue(), {
        mangle: true,
        compress: true,
    }).then(res => {
        initcodemirror.setValue(res.code);
    })
}
function reset() {
    $("#code").val('');
    initcodemirror.setValue('');
}
</script>
<script>
$('#header').load('../header.html', function(response, status, xhr) {
  if (status === "error") {
    console.error("加载失败");
  }
});
$('#footer').load('../footer.html', function(response, status, xhr) {
        if (status === "error") {
            console.error("加载失败");
        } else {
            var currentYear = new Date().getFullYear();
            $('#footer #currentYear').text(currentYear);
        }
    });
</script>
</body>
</html>